# CredentialCodeUtility for Swift

A Swift utility library for decrypting credentials from `.creds` files generated by `credential-code`.

## Installation

### Swift Package Manager

Add the following to your `Package.swift` dependencies:

```swift
.package(path: "path/to/credential-code/utilities/swift")
```

Then add `CredentialCodeUtility` to your target dependencies:

```swift
.target(
    name: "YourTarget",
    dependencies: ["CredentialCodeUtility"]
)
```

### Manual Integration

Simply copy `Sources/CredentialCodeUtility/CredentialDecryptor.swift` to your project.

## Usage

```swift
import CredentialCodeUtility

// Initialize with key file path
let decryptor = try CredentialDecryptor(keyPath: ".credential-code/encryption-key.txt")

// Load all credentials from .creds file
let credentials = try decryptor.loadCredentials(from: "Generated/credentials.creds")

// Access individual credentials
if let apiKey = credentials["API_KEY"] {
    print("API Key: \(apiKey)")
}

// Or initialize with key string
let keyString = "your-base64-encoded-key"
let decryptor2 = try CredentialDecryptor(keyBase64: keyString)
```

## Requirements

- Swift 5.9+
- macOS 10.15+, iOS 13+, tvOS 13+, watchOS 6+
- CryptoKit framework (included in Apple platforms)